# CraftConnect

Приложение на Android для управления IoT-устройствами.

Совместимо с [библиотекой Arduino](https://github.com/addowneer01/CraftConnect-libary-for-Arduino-ESP8266)
## API Reference
### __!документация не закончена и будет дополнена в ближайшее время!__
Приложение играет роль клиента(подключается к устройству/серверу) после чего обменивается json пакетами типа `JsonObject` следующего формата:
```json
{
  "type": 0, //тип пакета 
  "parameter1": "value", 
  ...
  "parameter5": "value"
}
```
__!!! Название параметров в таблицах выделено жирным шрифтом.__

Примеры пакетов из таблицы ниже:
```json
{"type":0} //Пинг приложения
{"type":1, "status": "success"} //Успешная авторизация
{"type":1, "status": "failure", "debugMs": "Неправильный пароль"} //Неуспешная авторизация с выводом причины на экран 
```

### Входящие пакеты
|Назначение| Type | Параметр 1 | Параметр 2 |
|:----------:|:---:|:---:|:---:|
|Пинг приложения|0| | |
|Результат авторизации|1| __status__ (`success` или `failure`) | если `failure`, __debugMs__<br>(например "неправильный пароль") |
|Создание новых виджетов<br>(и удаление старых)| 2 |`JsonArray` __dataScene__| |
|Простое обновление виджетов<br>(__Параметр 1__ тот же что в __Type 2__) | 3 | `JsonArray` __dataScene__ | |
| Подтверждение получения данных |  _в разработке_ |  |  |
| Продвинутое обновление виджетов| _в разработке_ |  |  |
| Пуш-уведомление|_в разработке_ |  |  |

### Выходящие пакеты
|Назначение| Type | Параметр 1 | Параметр 2 |
|:----------:|:---:|:---:|:---:|
|Пинг сервера|0| | |
|Авторизация|1| __password__ |  |
|Создание новых виджетов<br>(и удаление старых)| 2 |`JsonArray` __dataScene__| |
|Простое обновление виджетов<br>(__Параметр 1__ тот же что в __Type 2__) | 3 | `JsonArray` __dataScene__ | |
| Продвинутое обновление виджетов| _в разработке_ |  |  |
| Пуш-уведомление|_в разработке_ |  |  |
